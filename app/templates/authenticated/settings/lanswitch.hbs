{{page-title "LAN Switch"}}

<h2 tabindex="0" aria-label="{{t 'PAGE_LAN_SWITCH'}}">{{t 'PAGE_LAN_SWITCH'}}</h2>

<div class="card mb-3">
    <div class="card-header sc fs-4" tabindex="0" aria-label="{{t 'PAGE_LAN_SWITCH_SPEED_DUPLEX'}}">{{t 'PAGE_LAN_SWITCH_SPEED_DUPLEX'}}</div>
    <div class="card-body container">
        <div class="container-fluid table-responsive">
            <table class="table">
                <thead>
                    <th class="ps-2" tabindex="0" aria-label="{{t 'PAGE_LAN_SWITCH_ETH_PORT'}}">{{t 'PAGE_LAN_SWITCH_ETH_PORT'}}</th>
                    <th class="ps-2" tabindex="0" aria-label="{{t 'PAGE_LAN_SWITCH_SPEED_DUPLEX'}}">{{t 'PAGE_LAN_SWITCH_SPEED_DUPLEX'}}</th>
                </thead>
                <tbody class="table-group-divider">
                    {{#each @model as |eth idx|}}
                    {{#if (lt idx 3)}}
                    {{#if (or (eq eth.Alias "eth_port1") (eq eth.Alias "eth_port2"))}}
                    <tr>
                        <td style="vertical-align: middle;" tabindex="0" aria-label="{{t 'PAGE_LAN_SWITCH_ETH'}} {{inc idx}}">{{t 'PAGE_LAN_SWITCH_ETH'}} {{inc idx}}</td>    
                        <td>
                            <select class="form-select lanswitch" {{on 'change' (fn this.UpdateSpeedDuplex eth)}}>
                                <option value="Auto" selected={{(and (eq eth.DuplexMode 'Auto') (eq eth.MaxBitRate -1))}}>{{t 'PAGE_LAN_SWITCH_AUTO'}}</option>
                                <option value="10 MB Half" selected={{(and (eq eth.DuplexMode 'Half') (eq eth.MaxBitRate 10))}}>{{t 'PAGE_LAN_SWITCH_10_MB_HALF'}}</option>
                                <option value="10 MB Full" selected={{(and (eq eth.DuplexMode 'Full') (eq eth.MaxBitRate 10))}}>{{t 'PAGE_LAN_SWITCH_10_MB_FULL'}}</option>
                                <option value="100 MB Half" selected={{(and (eq eth.DuplexMode 'Half') (eq eth.MaxBitRate 100))}}>{{t 'PAGE_LAN_SWITCH_100_MB_HALF'}}</option>
                                <option value="100 MB Full" selected={{(and (eq eth.DuplexMode 'Full') (eq eth.MaxBitRate 100))}}>{{t 'PAGE_LAN_SWITCH_100_MB_FULL'}}</option>
                                <option value="1000 MB Half" selected={{(and (eq eth.DuplexMode 'Half') (eq eth.MaxBitRate 1000))}}>{{t 'PAGE_LAN_SWITCH_1000_MB_HALF'}}</option>
                                <option value="1000 MB Full" selected={{(and (eq eth.DuplexMode 'Full') (eq eth.MaxBitRate 1000))}}>{{t 'PAGE_LAN_SWITCH_1000_MB_FULL'}}</option>
                            </select>
                        </td>
                    </tr>
                    {{/if}}
                    {{#if (eq eth.Alias "eth_port0")}}
                    <tr>
                        <td style="vertical-align: middle;" tabindex="0" aria-label="{{t 'PAGE_LAN_SWITCH_ETH'}} {{inc idx}}">{{t 'PAGE_LAN_SWITCH_ETH'}} {{inc idx}}</td>    
                        <td>
                            <select class="form-select lanswitch" {{on 'change' (fn this.UpdateSpeedDuplex eth)}}>
                                <option value="Auto" selected={{(and (eq eth.DuplexMode 'Auto') (eq eth.MaxBitRate -1))}}>{{t 'PAGE_LAN_SWITCH_AUTO'}}</option>
                                <option value="1000 MB Full" selected={{(and (eq eth.DuplexMode 'Full') (eq eth.MaxBitRate 1000))}}>{{t 'PAGE_LAN_SWITCH_1000_MB_FULL'}}</option>
                                <option value="2500 MB Full" selected={{(and (eq eth.DuplexMode 'Full') (eq eth.MaxBitRate 2500))}}>{{t 'PAGE_LAN_SWITCH_2500_MB_FULL'}}</option>
                            </select>
                        </td>
                    </tr>
                    {{/if}}
                    {{/if}}
                    {{/each}}
                </tbody>
            </table>
        </div>

    </div>
</div>

<div class="d-flex justify-content-end mb-4">
    <button type="button" class="btn btn-primary" style="width: fit-content;" disabled={{not this.HasChanges}}
        {{on 'click' (fn this.Apply)}} 
        {{on "keyup" this.eaactrl.btnApply}}>
        {{t 'PAGE_SETTINGS_APPLY'}}
    </button>
    <button type="button" class="btn btn-secondary ms-2" style="width: fit-content;" disabled={{not this.HasChanges}}
        {{on 'click' (fn this.Cancel)}} 
        {{on "keyup" this.eaactrl.btnCancel}}>
        {{t 'PAGE_SETTINGS_CANCEL'}}
    </button>
</div>